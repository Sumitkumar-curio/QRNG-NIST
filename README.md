
# Quantum Random Number Generator (QRNG) Randomness Test Report

## 1. **Introduction**

This report documents the testing of the binary output generated by a Quantum Random Number Generator (QRNG) using the **NIST Statistical Test Suite for Random and Pseudorandom Number Generators for Cryptographic Applications**. The purpose of the test is to evaluate the randomness of the binary data produced by the QRNG, which is critical for applications in cryptography and secure communications.

## 2. **Procedure**

### 2.1 **Binary Data Extraction**
- The QRNG output was first extracted from a CSV file containing values in the "Channel 1 - Counts per bin" column. 
- The data was converted to binary format using a simple rule:
  - If the value in the column was non-zero, it was treated as `1`.
  - If the value in the column was zero, it was treated as `0`.
  
- **Python Code Used:**

```python
import csv

# File paths
input_file = 'C2.csv'  # Input CSV file with QRNG output
binary_output_file = 'binary_output2.txt'  # Output binary file for NIST test

# Open the input CSV file
with open(input_file, 'r') as infile:
    reader = csv.reader(infile)
    
    # Read the header
    header = next(reader)
    channel_1_index = header.index("Channel 1 - Counts per bin")

    # Open the output binary file
    with open(binary_output_file, 'w') as outfile:
        for row in reader:
            channel_1_value = int(row[channel_1_index])
            # Convert to binary: if non-zero, it's 1; otherwise, 0
            binary_value = '1' if channel_1_value != 0 else '0'
            outfile.write(binary_value)  # Write the binary value directly

print(f"Binary data successfully written to {binary_output_file}")
```

- The generated binary data was saved in the file: `binary_output2.txt`, containing approximately 200,000 binary digits (`0`s and `1`s).

### 2.2 **NIST Statistical Test Suite Configuration**
The binary data was tested using the following key randomness tests from the NIST suite:
- **Frequency (Monobit) Test**
- **Runs Test**
- **Discrete Fourier Transform (Spectral) Test**
- **Linear Complexity Test**
- **Approximate Entropy Test**
- **Cumulative Sums Test (Forward)**
- **Random Excursions Test**
- **Random Excursions Variant Test**

## 3. **Test Results**

The NIST test suite returned the following results:

| **Test Type**                                      | **P-Value**                   | **Conclusion** |
|----------------------------------------------------|-------------------------------|----------------|
| **Frequency (Monobit) Test**                       | 0.0                           | Non-Random     |
| **Frequency Test within a Block**                  | 0.0                           | Non-Random     |
| **Runs Test**                                      | 0.0                           | Non-Random     |
| **Test for the Longest Run of Ones in a Block**    | 0.0                           | Non-Random     |
| **Binary Matrix Rank Test**                        | 3.05e-275                     | Non-Random     |
| **Discrete Fourier Transform (Spectral) Test**     | 0.0                           | Non-Random     |
| **Non-overlapping Template Matching Test**         | 0.0                           | Non-Random     |
| **Overlapping Template Matching Test**             | 1.58e-69                      | Non-Random     |
| **Maurer's Universal Statistical Test**            | -1.0                          | Non-Random     |
| **Linear Complexity Test**                         | 0.0                           | Non-Random     |
| **Serial Test (two parts)**                        | 0.0, 0.0                      | Non-Random     |
| **Approximate Entropy Test**                       | 0.0                           | Non-Random     |
| **Cumulative Sums Test (Forward)**                 | 0.0                           | Non-Random     |
| **Cumulative Sums Test (Backward)**                | 0.0                           | Non-Random     |

### 3.1 **Random Excursions Test Results**
For specific states, the **Random Excursions Test** returned the following results:

| **State** | **Chi Squared** | **P-Value** | **Conclusion**  |
|-----------|-----------------|-------------|-----------------|
| -4        | 63.0            | 2.91e-12    | Non-Random      |
| -3        | 35.0            | 1.50e-06    | Non-Random      |
| -2        | 15.0            | 0.01036     | Random          |
| -1        | 3.0             | 0.6999      | Random          |
| +1        | 1.0             | 0.9626      | Random          |
| +2        | 0.33            | 0.9969      | Random          |
| +3        | 0.2             | 0.9991      | Random          |
| +4        | 0.14            | 0.9996      | Random          |

### 3.2 **Random Excursions Variant Test Results**
The Random Excursions Variant Test returned **P-values of 1.0** for all states tested, indicating randomness:

| **State** | **P-Value** | **Conclusion** |
|-----------|-------------|----------------|
| -9.0      | 1.0         | Random         |
| -8.0      | 1.0         | Random         |
| -7.0      | 1.0         | Random         |
| -6.0      | 1.0         | Random         |
| -5.0      | 1.0         | Random         |
| -4.0      | 1.0         | Random         |
| -3.0      | 1.0         | Random         |
| -2.0      | 1.0         | Random         |
| -1.0      | 1.0         | Random         |

## 4. **Analysis of the Results**

- **Overall Conclusion**: The majority of the tests concluded that the sequence generated by the QRNG is **non-random**. Only specific states in the Random Excursions and Random Excursions Variant tests passed the randomness checks.
  
- **Key Failures**:
  - **Frequency (Monobit) Test**: The sequence has an imbalance between `0`s and `1`s, which is a key indicator of non-randomness.
  - **Discrete Fourier Transform Test**: The sequence shows repetitive patterns, which are highly unlikely in a random sequence.
  
- **Random Excursions Success**: States such as `+1`, `+2`, and `+3` passed the Random Excursions Test, indicating some level of randomness at these states.

## 5. **Recommendations for Improvement**
1. **Increase Dataset Size**: Generate more data points to reduce the potential bias and increase randomness.
2. **Improve QRNG Source**: Investigate the QRNG source for potential biases or flaws in how randomness is generated.
3. **Balance 0s and 1s**: Ensure that the QRNG produces an approximately equal number of `0`s and `1`s to pass the Frequency test.
4. **Re-run the Tests**: After implementing the improvements, re-run the NIST tests to confirm the increased randomness.

## 6. **Conclusion**

The current output of the QRNG does not meet the randomness criteria set by the NIST Statistical Test Suite. The results suggest that improvements to the randomness generation process are required for the QRNG to be viable for cryptographic or other secure applications.
